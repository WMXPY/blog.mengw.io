---
layout: post
title: "Miscellaneous of Coding - 1"
categories: blog
description: 内心让他真实地了解自己，一旦了解了自己也就了解了世界。
---

## 为 Python，cv，机器学习准备的面试问题

> 他惊讶地向我转过身来，疑惑的表情似乎是在向我询问。我对他说，走过去吧，那里树叶会向你招手，石头会向你微笑，河水会向你问候。那里没有贫贱也没有富贵，没有悲伤也没有疼痛，没有仇也没有恨……那里人人死而平等。   
> 他问：“那是什么地方？”   
> 我说：“死无葬身之地。”

## Python

### 什么是 Monkey Patching （猴子布丁）？

指在函数声明之后更改其 Behavior 的行为。一般用在 Mock 的情况下，生产环境应该避免

深入：什么是 Mock，为什么要避免猴子布丁？

### 什么是 *args **kwargs？

*的代表是额外的传入参数，**代表是所有的命名传入参数。比如在：

```py
def hello(a, b, *args, **kwargs): 
```

中，ab 之后的直接传入都是 args，kwargs 是 `xxx=xxx` 的参数。

深入：为什么要这么做，什么样的函数应该使用这些传入参数扩展符？

### Python 的原生多线程是如何实现的，是个好主意吗？

Python 原生不支持多线程，虽然默认提供了（threading）包但是这个包并不是用来提高同步代码的运行速度的。原因是 `Global Interpreter Lock` 经常简称 `GIL` 这个东西是万恶之源，他会确保你在执行多线程的时候只有一个线程在同步运行。在你想实现比如说多线程下载的时候当然要开多线程，但是如果你希望能通过多线程提高并行计算的速度的话，显然 Python 不是一个好主意。

深入：实现多线程的正确姿势是什么？

可以考虑使用 c 语言的代码实现多线程计算然后在 Python 中调用。这是直线的思维，还有一种方式是换引擎，比如说 Spark 和 Hadoop 可以在外部开多线程运行同一份（或者不同）的 Python 代码来曲线救国实现多线程。

### Python 的垃圾回收机制是什么样的？

当变量的引用发生变化的时候，Python 会检查它的引用计数，如果是 0 就会被销毁。每过一段时间 Python 会遍历变量寻找循环引用，让两个变量只剩下循环引用的时候就会被销毁。需要注意的是 Python 很难处理大于两个变量之间的循环引用，请避免。每一个变量被建立的时候都会被分配一个代 (generation) 比较新的变量会被优先销毁，这是一种启发式 (heuristics) 算法。
